/* Mobile Navigation Fixed Positioning - Critical CSS */

/* Universal fixed positioning for mobile */
@media screen and (max-width: 768px) {
  /* Header fixed positioning */
  header[class*="fixed"] {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 9999 !important;
    transform: translateZ(0) !important;
    -webkit-transform: translateZ(0) !important;
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
  }
  
  /* Bottom navigation fixed positioning */
  div[class*="fixed"][class*="bottom"] {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 9998 !important;
    transform: translateZ(0) !important;
    -webkit-transform: translateZ(0) !important;
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
  }
  
  /* Prevent scrolling issues */
  body {
    position: relative !important;
    overflow-x: hidden !important;
  }
  
  /* Main content wrapper adjustments */
  main {
    position: relative !important;
    padding-top: 75px !important;
    padding-bottom: 85px !important;
    min-height: calc(100vh - 160px) !important;
  }
  
  /* iOS Safari specific fixes */
  @supports (-webkit-touch-callout: none) {
    header[class*="fixed"] {
      position: -webkit-sticky !important;
      position: sticky !important;
      top: 0 !important;
    }
    
    div[class*="fixed"][class*="bottom"] {
      position: -webkit-sticky !important;
      position: sticky !important;
      bottom: 0 !important;
    }
  }
}

/* Additional fixes for Android browsers */
@media screen and (max-device-width: 768px) {
  header, 
  [data-fixed="header"] {
    position: fixed !important;
    top: 0 !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  [data-fixed="bottom-nav"],
  .mobile-bottom-nav-fixed {
    position: fixed !important;
    bottom: 0 !important;
    transform: translate3d(0, 0, 0) !important;
  }
}

/* Fallback for older mobile browsers */
.force-fixed-header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 50 !important;
}

.force-fixed-bottom {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 60 !important;
}
