<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Public Page Example - Design System</title>
    
    <!-- Design System CSS -->
    <link rel="stylesheet" href="../styles/global-design-system.css">
    <link rel="stylesheet" href="../styles/public-pages.css">
    <link rel="stylesheet" href="../styles/bottom-navigation.css">
    
    <!-- iOS Web App Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="App Name">
    
    <!-- Android Web App Meta Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
</head>
<body>
    <!-- Public Layout Container -->
    <div class="public-layout">
        <!-- Header -->
        <header class="public-header">
            <div class="public-header-container">
                <a href="/" class="public-logo">
                    <span>üéÆ</span>
                    GameStore
                </a>
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    ‚ò∞
                </button>
            </div>
        </header>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="mobile-menu">
            <ul class="mobile-menu-nav">
                <li class="mobile-menu-item">
                    <a href="/" class="mobile-menu-link active">Home</a>
                </li>
                <li class="mobile-menu-item">
                    <a href="/products" class="mobile-menu-link">Products</a>
                </li>
                <li class="mobile-menu-item">
                    <a href="/categories" class="mobile-menu-link">Categories</a>
                </li>
                <li class="mobile-menu-item">
                    <a href="/about" class="mobile-menu-link">About</a>
                </li>
                <li class="mobile-menu-item">
                    <a href="/contact" class="mobile-menu-link">Contact</a>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <main class="public-main">
            <!-- Search Section -->
            <section class="search-section">
                <div class="search-bar">
                    <div class="search-icon">üîç</div>
                    <input type="search" class="search-input" placeholder="Search games, accessories...">
                </div>
            </section>

            <!-- Hero Section -->
            <section class="hero-section animate-fade-in">
                <h1 class="hero-title typography-large-title">
                    Welcome to GameStore
                </h1>
                <p class="hero-subtitle typography-body">
                    Discover the latest games and accessories for your favorite platforms
                </p>
                <div class="hero-cta">
                    <button class="btn btn-primary btn-lg">Shop Now</button>
                    <button class="btn btn-secondary btn-lg">View Catalog</button>
                </div>
            </section>

            <!-- Flash Sale Banner -->
            <div class="flash-sale-banner animate-slide-up">
                <h2 class="flash-sale-title">‚ö° Flash Sale!</h2>
                <p class="flash-sale-timer">Ends in: 02:45:30</p>
            </div>

            <!-- Categories Section -->
            <section class="categories-section">
                <h2 class="section-title typography-title-2">Browse Categories</h2>
                <div class="categories-grid">
                    <a href="/categories/console" class="category-item">
                        <div class="category-icon">üéÆ</div>
                        <span class="category-name">Console Games</span>
                    </a>
                    <a href="/categories/pc" class="category-item">
                        <div class="category-icon">üíª</div>
                        <span class="category-name">PC Games</span>
                    </a>
                    <a href="/categories/mobile" class="category-item">
                        <div class="category-icon">üì±</div>
                        <span class="category-name">Mobile Games</span>
                    </a>
                    <a href="/categories/accessories" class="category-item">
                        <div class="category-icon">üéß</div>
                        <span class="category-name">Accessories</span>
                    </a>
                    <a href="/categories/vr" class="category-item">
                        <div class="category-icon">ü•Ω</div>
                        <span class="category-name">VR Games</span>
                    </a>
                    <a href="/categories/retro" class="category-item">
                        <div class="category-icon">üïπÔ∏è</div>
                        <span class="category-name">Retro Games</span>
                    </a>
                </div>
            </section>

            <!-- Featured Products -->
            <section class="products-section">
                <h2 class="section-title typography-title-2">Featured Products</h2>
                <div class="products-grid">
                    <!-- Product Card 1 -->
                    <a href="/product/1" class="product-card">
                        <img src="https://via.placeholder.com/300x200/ff1744/ffffff?text=Game+1" 
                             alt="Game Title" class="product-image" loading="lazy">
                        <h3 class="product-title typography-headline">Epic Adventure Game</h3>
                        <div class="product-price typography-title-3">$59.99</div>
                        <p class="product-description typography-body">
                            An incredible adventure awaits in this epic fantasy world.
                        </p>
                    </a>

                    <!-- Product Card 2 -->
                    <a href="/product/2" class="product-card">
                        <img src="https://via.placeholder.com/300x200/f50057/ffffff?text=Game+2" 
                             alt="Game Title" class="product-image" loading="lazy">
                        <h3 class="product-title typography-headline">Racing Championship</h3>
                        <div class="product-price typography-title-3">$49.99</div>
                        <p class="product-description typography-body">
                            Feel the adrenaline in this high-speed racing simulation.
                        </p>
                    </a>

                    <!-- Product Card 3 -->
                    <a href="/product/3" class="product-card">
                        <img src="https://via.placeholder.com/300x200/ff4081/ffffff?text=Game+3" 
                             alt="Game Title" class="product-image" loading="lazy">
                        <h3 class="product-title typography-headline">Space Exploration</h3>
                        <div class="product-price typography-title-3">$39.99</div>
                        <p class="product-description typography-body">
                            Explore the cosmos in this stunning space adventure.
                        </p>
                    </a>

                    <!-- Product Card 4 -->
                    <a href="/product/4" class="product-card">
                        <img src="https://via.placeholder.com/300x200/c4001d/ffffff?text=Game+4" 
                             alt="Game Title" class="product-image" loading="lazy">
                        <h3 class="product-title typography-headline">Strategy Master</h3>
                        <div class="product-price typography-title-3">$44.99</div>
                        <p class="product-description typography-body">
                            Plan your moves carefully in this strategic warfare game.
                        </p>
                    </a>
                </div>
            </section>

            <!-- Newsletter Section -->
            <section class="categories-section">
                <div class="card">
                    <div class="card-header">
                        <h2 class="typography-title-3">Stay Updated</h2>
                    </div>
                    <div class="card-body">
                        <p class="typography-body">Get the latest game releases and exclusive offers.</p>
                        <div class="form-group">
                            <input type="email" class="form-input" placeholder="Enter your email">
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary w-full">Subscribe</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="public-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul class="footer-links">
                        <li><a href="/about">About Us</a></li>
                        <li><a href="/careers">Careers</a></li>
                        <li><a href="/press">Press</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="/help">Help Center</a></li>
                        <li><a href="/contact">Contact Us</a></li>
                        <li><a href="/returns">Returns</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul class="footer-links">
                        <li><a href="/privacy">Privacy Policy</a></li>
                        <li><a href="/terms">Terms of Service</a></li>
                        <li><a href="/cookies">Cookie Policy</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <ul class="footer-links">
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 GameStore. All rights reserved.</p>
            </div>
        </footer>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <!-- Minimize Handle -->
            <div class="bottom-nav-handle"></div>
            
            <!-- Navigation Container -->
            <div class="bottom-nav-container">
                <!-- Floating Action Button (Optional) -->
                <button class="bottom-nav-fab" onclick="openCart()">üõí</button>
                
                <!-- Navigation Items -->
                <ul class="bottom-nav-items">
                    <li class="bottom-nav-item">
                        <a href="/" class="bottom-nav-link active">
                            <div class="bottom-nav-icon">üè†</div>
                            <span class="bottom-nav-label">Home</span>
                        </a>
                    </li>
                    <li class="bottom-nav-item">
                        <a href="/search" class="bottom-nav-link">
                            <div class="bottom-nav-icon">üîç</div>
                            <span class="bottom-nav-label">Search</span>
                        </a>
                    </li>
                    <li class="bottom-nav-item">
                        <a href="/categories" class="bottom-nav-link">
                            <div class="bottom-nav-icon">üìÇ</div>
                            <span class="bottom-nav-label">Categories</span>
                        </a>
                    </li>
                    <li class="bottom-nav-item">
                        <a href="/wishlist" class="bottom-nav-link">
                            <div class="bottom-nav-icon">‚ù§Ô∏è</div>
                            <span class="bottom-nav-label">Wishlist</span>
                            <div class="bottom-nav-badge">3</div>
                        </a>
                    </li>
                    <li class="bottom-nav-item">
                        <a href="/profile" class="bottom-nav-link">
                            <div class="bottom-nav-icon">üë§</div>
                            <span class="bottom-nav-label">Profile</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- JavaScript -->
    <script src="../styles/bottom-navigation.js"></script>
    <script>
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('open');
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('mobileMenu');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            
            if (!menu.contains(e.target) && !menuBtn.contains(e.target)) {
                menu.classList.remove('open');
            }
        });

        // Cart function
        function openCart() {
            alert('Cart opened! (implement cart functionality here)');
        }

        // Example: Add badges dynamically
        document.addEventListener('DOMContentLoaded', function() {
            // Add notification badge to wishlist after 3 seconds
            setTimeout(() => {
                if (window.bottomNav) {
                    window.bottomNav.addBadge('[href="/wishlist"]', 5);
                }
            }, 3000);
        });

        // Example: Handle navigation changes
        document.addEventListener('DOMContentLoaded', function() {
            if (window.bottomNav) {
                window.bottomNav.nav.addEventListener('bottomNavNavigate', function(e) {
                    console.log('User navigated to:', e.detail.activeItem.getAttribute('href'));
                    
                    // You could update page content here or trigger SPA navigation
                });
            }
        });

        // Pull to refresh example
        let startY = 0;
        let pullDistance = 0;
        let isPulling = false;

        document.addEventListener('touchstart', function(e) {
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchmove', function(e) {
            if (window.scrollY === 0) {
                pullDistance = e.touches[0].clientY - startY;
                if (pullDistance > 0 && pullDistance < 100) {
                    isPulling = true;
                    // Add visual feedback here
                }
            }
        });

        document.addEventListener('touchend', function(e) {
            if (isPulling && pullDistance > 60) {
                // Trigger refresh
                console.log('Pull to refresh triggered');
                // Add your refresh logic here
            }
            isPulling = false;
            pullDistance = 0;
        });
    </script>
</body>
</html>
